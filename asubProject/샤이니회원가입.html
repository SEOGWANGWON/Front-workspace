<!DOCTYPE html>
<html lang="ko">
    <head>
        <meta charset="UTF-8">
        <title>샤이니 뮤직 홈페이지</title>
        <link rel="stylesheet" type="text/css" href="./css/CreateAccountPage.css">
        
        
        <style>
            body{
                background: linear-gradient(white 20%,lightCyan 30%, skyBlue 50%, deepSkyBlue 80% ) ;
                height: 1080px;
            }
            .pageColor{
                width: 650px;
                height: 780px;
                margin: 0 auto;
                margin-top: 5%;
                border: 2px outset rgb(199, 195, 195);
                box-shadow: 1px 0 0 0 rgb(41, 41, 41);  
                background-color: rgb(175, 174, 174);   
            }
            #phoneNumber{
                width: 335px;
                height: 28px;
                border: 2px inset rgb(194, 192, 192);
                box-shadow: 1px 1px 1px 0 rgb(224, 222, 222);  
            }
            #nickname{
                width: 335px;
                height: 28px;
                border: 2px inset rgb(194, 192, 192);
                box-shadow: 1px 1px 1px 0 rgb(224, 222, 222);  
                
            }
            #id{
                width: 335px;
                height: 28px;
                border: 2px inset rgb(194, 192, 192);
                box-shadow: 1px 1px 1px 0 rgb(224, 222, 222);  
            }
            #pw,#checkpw{
                width: 335px;
                height: 28px;
                border: 2px inset rgb(194, 192, 192);
                box-shadow: 1px 1px 1px 0 rgb(224, 222, 222);  
            }
            #createAccount{
                width: 550px;
                height: 650px;
                margin-left: 10%;
                padding: 50px;
                border-radius: 5%;
                
               
            }
            #emailid,#emailLink{
                width: 150px;
                height: 28px;
                border: 2px inset rgb(194, 192, 192);
                box-shadow: 1px 1px 1px 0 rgb(224, 222, 222);  
            }
            input{
                border: 1.5px solid gray;
            }
            button{
                height: 26px;
            }
            input{
                height: 26px;
            }
            .pawnTab{
                width: 600px;
                
            }
            .iconImg{
                width: 28px;
                height: 26px;
                margin-bottom: -8px;
            }
            .TabColor{
                height: 26px;
                background: linear-gradient(to right,navy 30%, dodgerblue );
            }
            .TabiconImage{
                margin: 0 -3px -6px 5px;
                width: 22px;
                height: 20px;
            }
            .TabTextStyle{
                margin: 0 0 0 2%;
                color: white;   
            }
            .pageCloseButton{
                float: right;
                margin: 0 0.5% -5% 0;
                width: 26px;
                height: 24px;
                padding: 3px;
                background-color: rgb(175, 174, 174);
            }
            .pageCloseButtonText{
                margin: 0 0 0 10%;
            }
            #uploadProfile{
                width: 340px;
                height: 240px;
                margin: 0 0 0 6%;
            }
            @font-face {
                font-family: 'Ramche';
                src: url('https://cdn.jsdelivr.net/gh/projectnoonnu/noonfonts_2307-1@1.1/Ramche.woff2') format('woff2');
                font-weight: normal;
                font-style: normal;
            }
            #checkpm{
                width: 150px;
                margin: 0;
                padding: 0;
            }
            #name{
                width: 335px;
                height: 28px;
                border: 2px inset rgb(194, 192, 192);
                box-shadow: 1px 1px 1px 0 rgb(224, 222, 222);  
            }
            #createUserButton{
                margin: 2% 0 0 31%;
            }
            
            
            
            
        </style>
    </head>
    <body>
        <div class="pageColor">
            <div class="TabColor"><img src="./img/oldicon/mypage.png" class="TabiconImage"><strong class="TabTextStyle">회원 가입</strong> 
                <button class="pageCloseButton"><Strong class="pageCloseButtonText">X</Strong></button>
            </div>           
                <div id="createAccount">
                <div id="divid">
                    <label for="id">
                        <img class="iconImg" src="./img/oldicon/user.png">
                    </label>
                    <input id="id" type="text" placeholder="아이디">
                    <button id="idButton">아이디 중복 확인</button>
                    <p id="ruleid"></p>
                </div>
                <div>
                    <label for="name">
                        <img class="iconImg" src="./img/oldicon/name.png">
                    </label>
                    <input id="name" type="text" placeholder="이름">
                    <p id="rulename"></p>
                </div>
                <div>
                    <label for="pw">
                        <img class="iconImg" src="./img/oldicon/password.png">
                    </label>
                    <input id="pw" type="password" oninput="pwCheck()"  placeholder="비밀번호">
                    <p id="rulepm"></p>
                </div>
                <div>
                    <label for="checkpw">
                       <img class="iconImg" src="./img/oldicon/passwordcheck.png">
                    </label>
                    <input id="checkpw" type="password" oninput="pwCheck()" placeholder="비밀번호 확인">
                    <span id="checkpm"></span>
                </div>
                <br>
                <div>
                    <label for="nickname">
                        <img class="iconImg" src="./img/oldicon/profile.png">
                    </label>
                    <input id="nickname" type="text" placeholder="닉네임">
                    <p id="rulenickname"></p>
                </div>
                
                <div>
                    <div id="profileContainer">
                        <!-- 프로필 사진을 표시할 컨테이너 -->
                        <img id="uploadProfile">
                    </div>
                    <input type="file" id="profileInput" accept="image/*" style="margin: 0 0 0 6%;">
                    <button id="profileUploadButton">프로필 등록</button>
                </div>
                <br>
                <div>
                    <label for="emailid">
                        <img class="iconImg" src="./img/oldicon/email.png">
                    </label>
                    <input id="emailid" type="text" placeholder="myemail">
                    <strong>@</strong>
                    <input id="emailLink" type="text" placeholder="naver.com">
                    <p id="ruleemail"></p>
                </div>
                
                <div>
                    <label for="phoneNumber">
                        <img class="iconImg" src="./img/oldicon/phone.png">
                    </label>
                    <input id="phoneNumber" type="text" placeholder="01012345678">
                    <p id="rulephoneNumber"></p>
                </div>
                <button id="createUserButton" onclick="CreateUser()">회원가입</button>
            </div>
        </div>
        <script src="https://code.jquery.com/jquery-3.7.1.js" 
        integrity="sha256-eKhayi8LEQwp4NKxN+CfCh+3qOVUtJn3QNZ0TciWLP4=" 
        crossorigin="anonymous"></script>
        <script>
            document.getElementById("profileUploadButton").addEventListener("click", function(){
                var fileInput = document.getElementById("profileInput");
                var uploadImage = document.getElementById("uploadProfile");
                var imageContainer = document.getElementById("profileContainer");

                if(fileInput.files.length > 0){
                    var file = fileInput.files[0];
                    var reader = new FileReader();

                    reader.onload = function(e){
                        uploadImage.src = e.target.result;
                        imageContainer.style.display = "block";
                    };

                    reader.readAsDataURL(file);
                } else{
                    alert("프로필 사진을 넣어야 합니다.");
                };
            });

            function pwCheck(){
                if($('#pw').val() == $('#checkpw').val()){
                    $('#checkpm').text('비밀번호 일치').css('color', 'green');
                }else{
                    $('#checkpm').text('비밀번호가 불일치').css('color', 'red');
                };
            };

            function CreateUser(){
                var userid = document.getElementById("id").value;
                var username = document.getElementById("name").value; 
                var password = document.getElementById("pw").value;
                var passwordCheck = document.getElementById("checkpw").value;
                var userNickname = document.getElementById("nickname").value;
                var userEmail = document.getElementById("emailid").value;
                var userPhone = document.getElementById("phoneNumber").value;
                


                
                var idPattarn =  /^[A-za-z0-9]{6,12}$/;
                var namePattarn = /^[가-힣]{1,15}$/;
                var passwordPattarn = /^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,20}$/;
                var nicknamePattarn =  /^[가-힣A-za-z0-9]{1,20}$/;
                var emailPattarn =  /^[A-za-z0-9]{1,80}$/;
                var phonePattarn = /^[0-1]{1,3}[0-9]{4,11}$/;

                if(!userid.match(idPattarn)){
                    alert("아이디는 6 ~ 12 자의 숫자,영어 로만 구성되어야합니다");
                    return false;
                }
                if(!username.match(namePattarn)){
                    alert("이름은 15자 이하의 한글로만 구성되어야 합니다.");
                    return false;
                }
                if(!password.match(passwordPattarn)){
                    alert("비밀번호는 8 ~ 32자의 영문, 대문자, 소문자, 특수문자, 숫자를 포함해야합니다.");
                    return false;
                }
                if(password !== passwordCheck){
                    alert("비밀번호가 일치하지 않습니다.");
                    return false;
                }
                if(!userNickname.match(nicknamePattarn)){
                    alert("닉네임은 20자 이하의 영어,숫자,한글로만 구성되어야 합니다.");
                    return false;
                }
                if(!userEmail.match(emailPattarn)){
                    alert("이메일은 80자 이하의 영어, 숫자로만 구성되어야 합니다.")
                    return false;
                }
                if(!userPhone.match(phonePattarn)){
                    alert("올바른 번호가 아닙니다.");
                    return false;
                }



            }
            



            

            




        </script>
    </body>
</html>